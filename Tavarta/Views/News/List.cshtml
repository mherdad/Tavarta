@using DNT.Extensions
@using PagedList.Mvc
@using Tavarta.Common.Extentions
@model  PagedList.IPagedList<Tavarta.ViewModel.News.NewsViewModel>

<main class="col-xs-12 col-md-8">

    <div id="news-page-list" class="widget widget-bordered title-a widget-page">
        <header>
            <h2>
               @ViewBag.Category
            </h2>
        </header>
        <div class="row-inject-here">
            @foreach (var tt in Model)
            {
                <article class="content">
                    <header class="row">
                        <div class="col-xxs-12 col-xs-9">
                            <h3>
                                 <a  href="@Url.Action("Details", "News", new {Title = tt.Title.ToSeoUrl(), tt.Id})">

                                        @tt.Title
                                    </a>
                            </h3>
                        </div>
                        <div class="col-xxs-12 col-xs-3 text-left">
                            <div class="small">
                                <span>
                                    <i class="glyphicon glyphicon-calendar"></i>
                                    <span class="numbers">
                                          @tt.PublishedOn.ToPersianDate()
                                    </span>
                                </span>
                                <span>
                                    <i class="glyphicon glyphicon-time"></i>
                                    <span class="numbers">
                                        11:13
                                    </span>
                                </span>
                                <span>
                                    <i class="glyphicon glyphicon-user"></i>
                                    <span class="numbers">@tt.ViewCount</span>
                                </span>
                            </div>
                        </div>
                    </header>
                    <section class="list-content-body">
                        <figure>
                            <img alt="@tt.Title" width="150" height="105" data-original="@tt.Image" class="lazy" src="@tt.Image" />
                        </figure>
                        <summary>
                            @tt.Title
                        </summary>
                        <div class="clearfix"></div>
                    </section>
                </article>

            }

            

            
        </div>
        <div class="col-sm-12 ">
            @Html.PagedListPager(Model, page => Url.Action("List", new { page,ViewBag.Category }), new PagedListRenderOptions { LinkToFirstPageFormat = "<< اولین", ContainerDivClasses = new[] { "col-md-pull-3", "col-md-6" }, LinkToPreviousPageFormat = " قبلی ", LinkToNextPageFormat = "بعدی ", LinkToLastPageFormat = "&Uacute;آخرین >>" })
        </div>
    </div>
</main>

@section scripts
{
    <style type="text/css">
    </style>
    #pagination
}